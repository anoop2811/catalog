apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: helm-redis
  namespace: default
spec:
  components:
    - name: redis
      type: helm
      properties:
        repoType: "oci"
        url: "oci://registry-1.docker.io/bitnamicharts"
        chart: "redis"
        values:
          master:
            persistence:
              size: 16Gi
          replica:
            persistence:
              size: 16Gi
        upgradeCRD: true
  policies:
    - name: debug
      type: debug
